<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article Test Page - Matcha lala</title>
    <meta name="description" content="Test page for articles and content management">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/custom.css">
    
    <style>
        .article-card {
            transition: all 0.3s ease;
            margin-bottom: 2rem;
        }
        .article-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .tag-badge {
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 15px;
        }
        .tag-badge:hover {
            transform: scale(1.05);
        }
        .filter-btn {
            transition: all 0.3s ease;
            border-radius: 25px;
        }
        .filter-btn:hover {
            transform: translateY(-2px);
        }
        .article-image {
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
        }
        .content-preview {
            max-height: 150px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="index-simple.html">
                <img src="./images/logo.png" alt="Matcha lala Logo" width="40" height="40" class="me-2">
                <span class="fw-bold text-matcha">Matcha lala</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index-simple.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="menu.html">Menu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="order.html">Order</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="article.html">Articles</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-matcha ms-2" href="admin-panel-test.html">
                            <i class="bi bi-gear me-1"></i>Admin
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main style="padding-top: 80px;">
        <!-- Header -->
        <section class="py-5 bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                        <h1 class="display-4 fw-bold mb-3">Article <span class="text-matcha">Test Page</span></h1>
                        <p class="lead">Testing article display and management system</p>
                        <div class="mt-4">
                            <a href="admin-panel-test.html" class="btn btn-matcha me-3">
                                <i class="bi bi-plus-circle me-2"></i>Add New Article
                            </a>
                            <span class="text-muted">Total Articles: <span id="total-count">2</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tag Filters -->
        <section class="py-4 bg-white border-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <h6 class="fw-bold text-muted mb-2">FILTER BY CATEGORY</h6>
                        <div class="d-flex flex-wrap gap-2">
                            <button class="btn btn-matcha filter-btn active" data-filter="all">
                                <i class="bi bi-grid-3x3-gap me-1"></i>All Articles
                            </button>
                            <button class="btn btn-outline-primary filter-btn" data-filter="story">
                                <i class="bi bi-book me-1"></i>Stories
                            </button>
                            <button class="btn btn-outline-success filter-btn" data-filter="tip">
                                <i class="bi bi-lightbulb me-1"></i>Tips
                            </button>
                            <button class="btn btn-outline-info filter-btn" data-filter="article">
                                <i class="bi bi-newspaper me-1"></i>Articles
                            </button>
                            <button class="btn btn-outline-warning filter-btn" data-filter="menu">
                                <i class="bi bi-cup-hot me-1"></i>Menu
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Articles Content -->
        <section class="py-5">
            <div class="container">
                <div class="row" id="articles-container">
                    
                    <!-- Sample Article 1 -->
                    <div class="col-lg-6 article-item" data-category="tip">
                        <div class="card article-card border-0 shadow-sm">
                            <img src="https://via.placeholder.com/400x200/4a7c59/ffffff?text=Matcha+Tips" 
                                 class="card-img-top article-image" alt="Matcha brewing tips">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <span class="badge bg-success tag-badge me-2">Tip</span>
                                    <span class="badge bg-light text-dark tag-badge">matcha</span>
                                    <span class="badge bg-light text-dark tag-badge">brewing</span>
                                </div>
                                <h5 class="card-title fw-bold">Perfect Matcha Brewing Guide</h5>
                                <p class="card-text content-preview text-muted">
                                    Learn the traditional way to brew the perfect cup of matcha. From water temperature to whisking technique, 
                                    we'll guide you through every step to create that smooth, frothy matcha that melts in your mouth.
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">
                                        <i class="bi bi-person me-1"></i>Matcha Lala Team
                                        <i class="bi bi-clock ms-3 me-1"></i>5 min read
                                    </small>
                                    <button class="btn btn-sm btn-outline-matcha">Read More</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sample Article 2 -->
                    <div class="col-lg-6 article-item" data-category="story">
                        <div class="card article-card border-0 shadow-sm">
                            <img src="https://via.placeholder.com/400x200/2c5f41/ffffff?text=Our+Story" 
                                 class="card-img-top article-image" alt="Matcha Lala story">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-2">
                                    <span class="badge bg-primary tag-badge me-2">Story</span>
                                    <span class="badge bg-light text-dark tag-badge">matchalala</span>
                                    <span class="badge bg-light text-dark tag-badge">journey</span>
                                </div>
                                <h5 class="card-title fw-bold">How Matcha Lala Started</h5>
                                <p class="card-text content-preview text-muted">
                                    Our journey began with a simple love for authentic matcha. From sourcing the finest tea leaves from Japan 
                                    to creating the perfect atmosphere for matcha lovers, discover the story behind Matcha Lala.
                                </p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">
                                        <i class="bi bi-person me-1"></i>Founder
                                        <i class="bi bi-clock ms-3 me-1"></i>3 min read
                                    </small>
                                    <button class="btn btn-sm btn-outline-matcha">Read More</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dynamic Articles will be added here -->
                    <div id="dynamic-articles"></div>

                </div>

                <!-- Load More -->
                <div class="text-center mt-5">
                    <button class="btn btn-outline-matcha" onclick="loadMoreArticles()">
                        <i class="bi bi-arrow-down-circle me-2"></i>Load More Articles
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div class="d-flex align-items-center">
                        <img src="./images/logo-white.png" alt="Matcha lala Logo" width="30" height="30" class="me-2">
                        <span class="fw-bold text-matcha">Matcha lala</span>
                    </div>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">Â© 2025 Matcha lala. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // Sample data - in real app this would come from a database
        let articles = JSON.parse(localStorage.getItem('matchaArticles')) || [];

        // Filter functionality
        document.addEventListener('DOMContentLoaded', function() {
            loadArticlesFromStorage();
            setupFilters();
            updateArticleCount();
        });

        function setupFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const filter = this.getAttribute('data-filter');
                    
                    // Update active button
                    filterButtons.forEach(btn => {
                        btn.classList.remove('active', 'btn-matcha');
                        btn.classList.add('btn-outline-primary', 'btn-outline-success', 'btn-outline-info', 'btn-outline-warning');
                        if (btn.getAttribute('data-filter') === 'all') {
                            btn.classList.remove('btn-outline-primary');
                            btn.classList.add('btn-outline-matcha');
                        }
                    });
                    
                    this.classList.add('active');
                    this.classList.remove('btn-outline-primary', 'btn-outline-success', 'btn-outline-info', 'btn-outline-warning', 'btn-outline-matcha');
                    this.classList.add('btn-matcha');
                    
                    // Filter articles
                    filterArticles(filter);
                });
            });
        }

        function filterArticles(filter) {
            const articleItems = document.querySelectorAll('.article-item');
            
            articleItems.forEach(item => {
                if (filter === 'all') {
                    item.style.display = 'block';
                } else {
                    const category = item.getAttribute('data-category');
                    if (category === filter) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                }
            });
        }

        function loadArticlesFromStorage() {
            const container = document.getElementById('dynamic-articles');
            container.innerHTML = '';
            
            articles.forEach(article => {
                const articleElement = createArticleElement(article);
                container.appendChild(articleElement);
            });
        }

        function createArticleElement(article) {
            const col = document.createElement('div');
            col.className = 'col-lg-6 article-item';
            col.setAttribute('data-category', article.mainTag);
            
            const tagBadges = [article.mainTag, ...article.subTags].map(tag => {
                const badgeClass = article.mainTag === tag ? getBadgeClass(tag) : 'bg-light text-dark';
                return `<span class="badge ${badgeClass} tag-badge">${tag}</span>`;
            }).join('');

            const imageUrl = article.image || `https://via.placeholder.com/400x200/4a7c59/ffffff?text=${article.title}`;
            
            col.innerHTML = `
                <div class="card article-card border-0 shadow-sm">
                    <img src="${imageUrl}" class="card-img-top article-image" alt="${article.title}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-2 flex-wrap gap-1">
                            ${tagBadges}
                        </div>
                        <h5 class="card-title fw-bold">${article.title}</h5>
                        <p class="card-text content-preview text-muted">
                            ${article.summary || article.content.substring(0, 150) + '...'}
                        </p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">
                                <i class="bi bi-person me-1"></i>${article.author || 'Matcha Lala Team'}
                                <i class="bi bi-clock ms-3 me-1"></i>${article.readTime || '5'} min read
                            </small>
                            <button class="btn btn-sm btn-outline-matcha" onclick="viewArticle(${article.id})">Read More</button>
                        </div>
                    </div>
                </div>
            `;
            
            return col;
        }

        function getBadgeClass(tag) {
            switch(tag) {
                case 'story': return 'bg-primary';
                case 'tip': return 'bg-success';
                case 'article': return 'bg-info';
                case 'menu': return 'bg-warning';
                default: return 'bg-secondary';
            }
        }

        function updateArticleCount() {
            const total = document.querySelectorAll('.article-item').length;
            document.getElementById('total-count').textContent = total;
        }

        function viewArticle(id) {
            // In a real app, this would navigate to the full article
            alert(`Viewing article with ID: ${id}\n\nThis would open the full article view.`);
        }

        function loadMoreArticles() {
            // Simulate loading more articles
            alert('Loading more articles...\n\nThis would fetch more articles from the server.');
        }

        // Listen for storage changes to update when new articles are added
        window.addEventListener('storage', function(e) {
            if (e.key === 'matchaArticles') {
                articles = JSON.parse(e.newValue) || [];
                loadArticlesFromStorage();
                updateArticleCount();
            }
        });
    </script>
</body>
</html>